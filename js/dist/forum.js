(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var n=t.n(e);function r(t,e){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},r(t,e)}function o(t){return o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},o(t)}function i(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(i=function(){return!!t})()}function a(t){var e="function"==typeof Map?new Map:void 0;return a=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(i())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var a=new(t.bind.apply(t,o));return n&&r(a,n.prototype),a}(t,arguments,o(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),r(n,t)},a(t)}function c(t,e){if(!{}.hasOwnProperty.call(t,e))throw new TypeError("attempted to use private field on non-instance");return t}var s=0;function l(t){return"__private_"+s+++"_"+t}var u=l("createPlaceholder"),d=l("createStyle"),p=l("createImg"),h=function(t){function e(){var e;return e=t.call(this)||this,Object.defineProperty(e,p,{value:m}),Object.defineProperty(e,d,{value:g}),Object.defineProperty(e,u,{value:f}),e.attachShadow({mode:"open"}),e}var n,o;return o=t,(n=e).prototype=Object.create(o.prototype),n.prototype.constructor=n,r(n,o),e.prototype.connectedCallback=function(){var t=this;this.shadowRoot.appendChild(c(this,d)[d]());try{var e=this.getAttribute("src"),n=e.startsWith("/")?window.location.hostname:new URL(e).hostname,r=c(this,u)[u](n);r.addEventListener("click",(function(e){r.classList.add("loading"),e.preventDefault();var n=c(t,p)[p]();n.onerror=function(){r.classList.remove("loading"),r.classList.add("error")},n.onload=function(){r.style.width="min("+n.width+"px, 100%)",r.style.height="auto",r.style.aspectRatio=n.width+" / "+n.height,setTimeout((function(){return t.replaceWith(n)}),200)}}),{once:!0}),this.shadowRoot.appendChild(r)}catch(t){var o=c(this,u)[u](this.getAttribute("src"));o.classList.add("error"),this.shadowRoot.appendChild(o)}},e}(a(HTMLElement));function f(t){var e=document.createElement("div");return e.innerHTML='\n        <span class="placeholder-message">'+n().translator.trans("archlinux-de-flarum-click-image.forum.load_button",{domain:t}).join("")+'</span>\n        <span class="error-message">'+n().translator.trans("archlinux-de-flarum-click-image.forum.error_message",{domain:t}).join("")+"</span>\n      ",e}function g(){var t=document.createElement("style");return t.innerHTML=":host {\n  --background-color: #ccc;\n  --border-color: #ddd;\n  --color: #333;\n  --error-color: #f00;\n}\n\ndiv {\n  padding: 8px;\n  box-sizing: border-box;\n  border: 1px solid var(--border-color);\n  height: 150px;\n  width: 100%;\n  max-width: 100%;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--background-color);\n  cursor: pointer;\n  transition:\n    width 0.2s ease-in-out,\n    height 0.2s ease-in-out;\n}\n\nspan {\n  font-family: sans-serif;\n  font-size: 14px;\n  color: var(--color);\n}\n\na {\n  color: unset;\n}\n\n.error-message {\n  display: none;\n}\n\n.error .placeholder-message {\n  display: none;\n}\n\n.error .error-message {\n  display: inline-block;\n}\n\n.loading {\n  cursor: wait;\n}\n\n.loading span {\n  display: none;\n}\n\n.loading::before {\n  content: ' ';\n}\n\n.error {\n  cursor: unset;\n}\n\n.error span {\n  color: var(--error-color);\n}\n",t}function m(){var t=document.createElement("img");return this.getAttribute("height")>0&&(t.height=this.getAttribute("height")),this.getAttribute("width")>0&&(t.height=this.getAttribute("width")),this.getAttribute("alt").length>0&&(t.alt=this.getAttribute("alt")),this.getAttribute("title").length>0&&(t.title=this.getAttribute("title")),t.src=this.getAttribute("src"),t}n().initializers.add("archlinux-de/flarum-click-image",(function(){customElements.define("click-img",h)}))})(),module.exports={}})();
//# sourceMappingURL=forum.js.map