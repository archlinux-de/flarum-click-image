(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e);const n=flarum.core.compat["forum/app"];var r=t.n(n);function o(t,e){return o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},o(t,e)}function i(t){return i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},i(t)}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return c=a()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&o(i,n.prototype),i},c.apply(null,arguments)}function s(t){var e="function"==typeof Map?new Map:void 0;return s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,i(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)},s(t)}var l=function(t){var e,n;function i(){var e;return(e=t.call(this)||this).attachShadow({mode:"open"}),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,o(e,n);var a=i.prototype;return a.connectedCallback=function(){var t=this;this.shadowRoot.appendChild(this._createStyle());try{var e=new URL(this.getAttribute("src")).hostname,n=this._createPlaceholder(e);n.addEventListener("click",(function(e){n.classList.add("loading"),e.preventDefault();var r=t._createImg();r.onerror=function(){n.classList.remove("loading"),n.classList.add("error")},r.onload=function(){n.style.width="min("+r.width+"px, 100%)",n.style.height="auto",n.style.aspectRatio=r.width+" / "+r.height,setTimeout((function(){return n.replaceWith(r)}),200)}}),{once:!0}),this.shadowRoot.appendChild(n)}catch(t){var r=this._createPlaceholder(this.getAttribute("src"));r.classList.add("error"),this.shadowRoot.appendChild(r)}},a._createPlaceholder=function(t){var e=document.createElement("div");return e.innerHTML='\n        <span class="placeholder-message">'+r().translator.trans("load",{domain:t})+'</span>\n        <span class="error-message">'+r().translator.trans("error",{domain:t})+"</span>\n      ",e},a._createStyle=function(){var t=document.createElement("style");return t.innerHTML="\n        div {\n          padding: 8px;\n          box-sizing: border-box;\n          border: 1px solid #fff;\n          height: 150px;\n          width: 100%;\n          max-width: 100%;\n          display: inline-flex;\n          justify-content: center;\n          align-items: center;\n          background-color: #ededed;\n          cursor: pointer;\n          transition: width .2s ease-in-out, height .2s ease-in-out;\n        }\n        img {\n          vertical-align: middle;\n          max-width: 100%;\n        }\n        span {\n          font-family: sans-serif;\n          font-size: 14px;\n          color: #808080;\n        }\n        a {\n          color: unset;\n        }\n        .error-message {\n          display: none;\n        }\n        .error .placeholder-message {\n          display: none;\n        }\n        .error .error-message {\n          display: inline-block;\n        }\n        .loading {\n          cursor: wait;\n        }\n        .loading span {\n          display: none;\n        }\n        .loading::before {\n          content: ' '\n        }\n        .error {\n          cursor: unset;\n        }\n        .error span {\n          color: #B72A2A;\n        }\n      ",t},a._createImg=function(){var t=document.createElement("img");return this.getAttribute("height")>0&&(t.height=this.getAttribute("height")),this.getAttribute("width")>0&&(t.height=this.getAttribute("width")),this.getAttribute("alt").length>0&&(t.alt=this.getAttribute("alt")),this.getAttribute("title").length>0&&(t.title=this.getAttribute("title")),t.src=this.getAttribute("src"),t},i}(s(HTMLElement));r().initializers.add("archlinux-de/click-image",(function(){customElements.define("click-img",l)}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map